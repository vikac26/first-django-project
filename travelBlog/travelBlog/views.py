from django.http import HttpResponse
from django.shortcuts import render

MENU = {"Главная": "/", "О Блоге": "/bloginfo"}

POSTS = [
    {
        "id": 1,
        "title": "Путешествие по Исландии: водопады, дорога и тишина",
        "preview": "Исландия — страна, где природа говорит громче слов. Рассказываю о маршруте, впечатлениях и полезных советах.",
        "image": "imgs/travel-post1.jpg",
        "content": """
        Исландия — это путешествие, которое ощущается как выход за пределы привычного мира.
        Здесь нет суеты, зато есть бесконечные дороги, водопады и ощущение абсолютной свободы.

        Наш маршрут проходил по знаменитой Кольцевой дороге.
        Каждый день открывал новые пейзажи: чёрные пляжи, ледники,
        геотермальные источники и туманные фьорды.

        На что стоит обратить внимание при поездке:
        • аренда автомобиля — лучший способ передвижения  
        • погода меняется несколько раз в день  
        • обязательно берите непромокаемую одежду  
        • планируйте маршрут с запасом по времени  

        Самое ценное в Исландии — это тишина.
        В некоторых местах можно остановиться, выключить двигатель
        и услышать только ветер и шум воды.

        Это путешествие учит замедляться и по-настоящему смотреть вокруг.
        """
    },
    {
        "id": 2,
        "title": "Уикенд в Риме: как увидеть главное за 3 дня",
        "preview": "Рим — город, в который невозможно не влюбиться. Делюсь маршрутом для короткой, но насыщенной поездки.",
        "image": "imgs/travel-post2.jpg",
        "content": """
        Рим — это город, где история ощущается на каждом шагу.
        Даже короткая поездка способна оставить сильные впечатления,
        если правильно спланировать маршрут.

        День первый стоит посвятить классике:
        Колизей, Римский форум и прогулка по центру.
        Вечером — ужин в маленькой траттории и бокал вина.

        Второй день можно провести более расслабленно:
        • Ватикан и Собор Святого Петра  
        • прогулка вдоль Тибра  
        • площадь Навона и Пантеон  

        Третий день идеально подходит для:
        • Трастевере  
        • утреннего кофе  
        • покупки сувениров  
        • неспешных прогулок без плана  

        Главный совет — не пытайтесь увидеть всё.
        Рим лучше чувствовать, чем изучать по списку.

        Этот город всегда оставляет повод вернуться.
        """
    }
]

def mainPage(request):
    data = {"menu": MENU, "title": "Главная", "posts": POSTS}

    return render(request, "./index.html", data)


def blogInfoPage(request):
    data = {"menu": MENU, "title": "О блоге"}

    return render(request, "./blogInfo.html", data)


def postDefault(request):
    return postPage(request)


def postPage(request, post_id=1):
    post = next((p for p in POSTS if p["id"] == post_id), None)

    data = {
        "menu": MENU,
        "title": post["title"],
        "post": post
    }

    return render(request, "post.html", data)